warning: unused variable: `type_str`
   --> crates/ox_codegen/src/convert/class.rs:537:33
    |
537 | ...                   let type_str = param_type.to_string();
    |                           ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_type_str`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: `ox_codegen` (lib) generated 1 warning
warning: unused variable: `temp_dir`
  --> tests/src/test_nestjs.rs:55:13
   |
55 |         let temp_dir = TempDir::new().unwrap();
   |             ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_temp_dir`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `input_dir`
  --> tests/src/test_nestjs.rs:56:13
   |
56 |         let input_dir = PathBuf::from("fixtures/nestjs_controller/src");
   |             ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_input_dir`

warning: `integration_tests` (lib test) generated 2 warnings
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.05s
     Running unittests src/lib.rs (target/debug/deps/integration_tests-726d51bf8feaca74)

running 1 test
DEBUG convert_prop: Field value, Type T, is_dependency: true
Method: get_value, is_handler: false, decorators: 0
Compilation failed:
    Updating crates.io index
     Locking 71 packages to latest compatible versions
      Adding axum v0.7.9 (available: v0.8.7)
   Compiling proc-macro2 v1.0.103
   Compiling unicode-ident v1.0.22
   Compiling quote v1.0.42
   Compiling libc v0.2.177
   Compiling itoa v1.0.15
   Compiling pin-project-lite v0.2.16
   Compiling bytes v1.11.0
   Compiling futures-core v0.3.31
   Compiling parking_lot_core v0.9.12
   Compiling smallvec v1.15.1
   Compiling cfg-if v1.0.4
   Compiling serde_core v1.0.228
   Compiling scopeguard v1.2.0
   Compiling pin-utils v0.1.0
   Compiling httparse v1.10.1
   Compiling once_cell v1.21.3
   Compiling lock_api v0.4.14
   Compiling serde v1.0.228
   Compiling log v0.4.28
   Compiling futures-task v0.3.31
   Compiling tracing-core v0.1.35
   Compiling tower-service v0.3.3
   Compiling rustversion v1.0.22
   Compiling futures-util v0.3.31
   Compiling futures-channel v0.3.31
   Compiling atomic-waker v1.1.2
   Compiling sync_wrapper v1.0.2
   Compiling httpdate v1.0.3
   Compiling tower-layer v0.3.3
   Compiling ryu v1.0.20
   Compiling percent-encoding v2.3.2
   Compiling http v1.4.0
   Compiling tracing v0.1.41
   Compiling serde_json v1.0.145
   Compiling form_urlencoded v1.2.2
   Compiling mime v0.3.17
   Compiling memchr v2.7.6
   Compiling matchit v0.7.3
   Compiling syn v2.0.111
   Compiling http-body v1.0.1
   Compiling http-body-util v0.1.3
   Compiling mio v1.1.0
   Compiling signal-hook-registry v1.4.7
   Compiling socket2 v0.6.1
   Compiling parking_lot v0.12.5
   Compiling serde_path_to_error v0.1.20
   Compiling tokio-macros v2.6.0
   Compiling serde_derive v1.0.228
   Compiling async-trait v0.1.89
   Compiling tokio v1.48.0
   Compiling axum-core v0.4.5
   Compiling serde_urlencoded v0.7.1
   Compiling hyper v1.8.1
   Compiling tower v0.5.2
   Compiling hyper-util v0.1.18
   Compiling axum v0.7.9
   Compiling test_generics v0.1.0 (/tmp/.tmpGOHMpK)
warning: unnecessary parentheses around type
  --> src/main.rs:10:43
   |
10 |     pub _marker: std::marker::PhantomData<(T)>,
   |                                           ^ ^
   |
   = note: `#[warn(unused_parens)]` on by default
help: remove these parentheses
   |
10 -     pub _marker: std::marker::PhantomData<(T)>,
10 +     pub _marker: std::marker::PhantomData<T>,
   |

error[E0283]: type annotations needed: cannot satisfy `T: Deserialize<'_>`
 --> src/main.rs:7:12
  |
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
note: multiple `impl`s or `where` clauses satisfying `T: Deserialize<'_>` found
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: required for `Wrapper<T>` to implement `Deserialize<'de>`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^ unsatisfied trait bound introduced in this `derive` macro
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = note: this error originates in the derive macro `serde::Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0283]: type annotations needed: cannot satisfy `T: Deserialize<'de>`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
  |
note: multiple `impl`s or `where` clauses satisfying `T: Deserialize<'de>` found
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = note: this error originates in the derive macro `serde::Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0283]: type annotations needed: cannot satisfy `T: Deserialize<'de>`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
  |
note: multiple `impl`s or `where` clauses satisfying `T: Deserialize<'de>` found
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: required by a bound in `_::<impl Deserialize<'de> for Wrapper<T>>::deserialize::__Visitor`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^ required by this bound in `__Visitor`
  = note: this error originates in the derive macro `serde::Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0283]: type annotations needed: cannot satisfy `T: Deserialize<'_>`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
  |
note: multiple `impl`s or `where` clauses satisfying `T: Deserialize<'_>` found
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: required for `_::<impl Deserialize<'de> for Wrapper<T>>::deserialize::__Visitor<'de, T>` to implement `Visitor<'de>`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^ unsatisfied trait bound introduced in this `derive` macro
  = note: this error originates in the derive macro `serde::Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `Arc<T>: serde::Serialize` is not satisfied
    --> src/main.rs:6:44
     |
6    | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
     |                                            ^^^^^^^^^^^^^^^^^^ the trait `Serialize` is not implemented for `Arc<T>`
7    | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
8    |     pub value: std::sync::Arc<T>,
     |     --- required by a bound introduced by this call
     |
     = note: for local types consider adding `#[derive(serde::Serialize)]` to your `Arc<T>` type
     = note: for types from other crates check whether the crate offers a `serde` feature flag
     = help: the following other types implement trait `Serialize`:
               &'a T
               &'a mut T
               ()
               (T,)
               (T0, T1)
               (T0, T1, T2)
               (T0, T1, T2, T3)
               (T0, T1, T2, T3, T4)
             and 128 others
note: required by a bound in `_::_serde::ser::SerializeStruct::serialize_field`
    --> /home/gefferson-souza/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/serde_core-1.0.228/src/ser/mod.rs:1917:21
     |
1915 |     fn serialize_field<T>(&mut self, key: &'static str, value: &T) -> Result<(), Self::Error>
     |        --------------- required by a bound in this associated function
1916 |     where
1917 |         T: ?Sized + Serialize;
     |                     ^^^^^^^^^ required by this bound in `SerializeStruct::serialize_field`
     = note: this error originates in the derive macro `serde::Serialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0283]: type annotations needed: cannot satisfy `T: Deserialize<'_>`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
  |
note: multiple `impl`s or `where` clauses satisfying `T: Deserialize<'_>` found
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^
7 | pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
  |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: required by a bound in `_::<impl Deserialize<'de> for Wrapper<T>>::deserialize::__Visitor`
 --> src/main.rs:6:64
  |
6 | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
  |                                                                ^^^^^^^^^^^^^^^^^^^^ required by this bound in `__Visitor`
  = note: this error originates in the derive macro `serde::Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0277]: the trait bound `Arc<T>: serde::Deserialize<'de>` is not satisfied
    --> src/main.rs:8:16
     |
8    |     pub value: std::sync::Arc<T>,
     |                ^^^^^^^^^^^^^^^^^ the trait `Deserialize<'_>` is not implemented for `Arc<T>`
     |
     = note: for local types consider adding `#[derive(serde::Deserialize)]` to your `Arc<T>` type
     = note: for types from other crates check whether the crate offers a `serde` feature flag
     = help: the following other types implement trait `Deserialize<'de>`:
               &'a Path
               &'a [u8]
               &'a str
               ()
               (T,)
               (T0, T1)
               (T0, T1, T2)
               (T0, T1, T2, T3)
             and 142 others
note: required by a bound in `next_element`
    --> /home/gefferson-souza/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/serde_core-1.0.228/src/de/mod.rs:1771:12
     |
1769 |     fn next_element<T>(&mut self) -> Result<Option<T>, Self::Error>
     |        ------------ required by a bound in this associated function
1770 |     where
1771 |         T: Deserialize<'de>,
     |            ^^^^^^^^^^^^^^^^ required by this bound in `SeqAccess::next_element`

error[E0277]: the trait bound `Arc<T>: serde::Deserialize<'de>` is not satisfied
    --> src/main.rs:8:16
     |
8    |     pub value: std::sync::Arc<T>,
     |                ^^^^^^^^^^^^^^^^^ the trait `Deserialize<'_>` is not implemented for `Arc<T>`
     |
     = note: for local types consider adding `#[derive(serde::Deserialize)]` to your `Arc<T>` type
     = note: for types from other crates check whether the crate offers a `serde` feature flag
     = help: the following other types implement trait `Deserialize<'de>`:
               &'a Path
               &'a [u8]
               &'a str
               ()
               (T,)
               (T0, T1)
               (T0, T1, T2)
               (T0, T1, T2, T3)
             and 142 others
note: required by a bound in `next_value`
    --> /home/gefferson-souza/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/serde_core-1.0.228/src/de/mod.rs:1916:12
     |
1914 |     fn next_value<V>(&mut self) -> Result<V, Self::Error>
     |        ---------- required by a bound in this associated function
1915 |     where
1916 |         V: Deserialize<'de>,
     |            ^^^^^^^^^^^^^^^^ required by this bound in `MapAccess::next_value`

error[E0277]: the trait bound `Arc<T>: serde::Deserialize<'de>` is not satisfied
  --> src/main.rs:6:64
   |
6  | #[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
   |                                                                ^^^^^^^^^^^^^^^^^^^^ the trait `Deserialize<'_>` is not implemented for `Arc<T>`
   |
   = note: for local types consider adding `#[derive(serde::Deserialize)]` to your `Arc<T>` type
   = note: for types from other crates check whether the crate offers a `serde` feature flag
   = help: the following other types implement trait `Deserialize<'de>`:
             &'a Path
             &'a [u8]
             &'a str
             ()
             (T,)
             (T0, T1)
             (T0, T1, T2)
             (T0, T1, T2, T3)
           and 142 others
note: required by a bound in `_::_serde::__private228::de::missing_field`
  --> /home/gefferson-souza/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/serde-1.0.228/src/private/de.rs:26:8
   |
24 | pub fn missing_field<'de, V, E>(field: &'static str) -> Result<V, E>
   |        ------------- required by a bound in this function
25 | where
26 |     V: Deserialize<'de>,
   |        ^^^^^^^^^^^^^^^^ required by this bound in `missing_field`
   = note: this error originates in the derive macro `serde::Deserialize` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0308]: mismatched types
  --> src/main.rs:26:16
   |
12 | impl<T: serde::de::DeserializeOwned + serde::Serialize> Wrapper<T> {
   |      - expected this type parameter
...
25 |     pub fn get_value(&self) -> T {
   |                                - expected `T` because of return type
26 |         return self.value.clone();
   |                ^^^^^^^^^^^^^^^^^^ expected type parameter `T`, found `Arc<T>`
   |
   = note: expected type parameter `T`
                      found struct `Arc<T>`

error[E0308]: mismatched types
  --> src/main.rs:44:48
   |
44 |                 let w = Wrapper::<String>::new(String::from("hello generic"));
   |                         ---------------------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `Arc<String>`, found `String`
   |                         |
   |                         arguments to this function are incorrect
   |
   = note: expected struct `Arc<std::string::String>`
              found struct `std::string::String`
note: associated function defined here
  --> src/main.rs:13:12
   |
13 |     pub fn new(value: std::sync::Arc<T>) -> Self {
   |            ^^^ ------------------------
help: call `Into::into` on this expression to convert `std::string::String` into `Arc<std::string::String>`
   |
44 |                 let w = Wrapper::<String>::new(String::from("hello generic").into());
   |                                                                             +++++++

Some errors have detailed explanations: E0277, E0283, E0308.
For more information about an error, try `rustc --explain E0277`.
warning: `test_generics` (bin "test_generics") generated 1 warning
error: could not compile `test_generics` (bin "test_generics") due to 14 previous errors; 1 warning emitted

Generated Code:
#[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
pub struct Box<T: Clone> {
    pub value: T,
}
#[derive(Default, Debug, Clone, PartialEq, serde :: Serialize, serde :: Deserialize)]
pub struct Wrapper<T: serde::de::DeserializeOwned + serde::Serialize> {
    pub value: std::sync::Arc<T>,
    #[serde(skip)]
    pub _marker: std::marker::PhantomData<(T)>,
}
impl<T: serde::de::DeserializeOwned + serde::Serialize> Wrapper<T> {
    pub fn new(value: std::sync::Arc<T>) -> Self {
        Self {
            value: value,
            _marker: std::marker::PhantomData,
        }
    }
    pub fn new_di(value: std::sync::Arc<T>) -> Self {
        Self {
            value: value,
            _marker: std::marker::PhantomData,
        }
    }
    pub fn get_value(&self) -> T {
        return self.value.clone();
    }
}
pub fn identity<T: serde::de::DeserializeOwned + serde::Serialize + Clone>(arg: T) -> T {
    return arg;
}


thread 'test_generics::generic_tests::test_compile_and_execute_generics' panicked at tests/src/test_generics.rs:99:9:
Compilation failed
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test test_generics::generic_tests::test_compile_and_execute_generics ... FAILED

failures:

failures:
    test_generics::generic_tests::test_compile_and_execute_generics

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 29 filtered out; finished in 8.56s

error: test failed, to rerun pass `-p integration_tests --lib`
